{"version":3,"sources":["components/TodoItem.jsx","components/TodoList.jsx","components/TodosFilter.jsx","components/TodoApp.jsx","App.jsx","index.js"],"names":["TodoItem","React","memo","todos","todo","setTodos","setInput","useState","toggle","setToggle","className","classNames","completed","editing","type","id","onChange","map","item","checked","htmlFor","onDoubleClick","title","onClick","filter","onKeyUp","e","key","target","value","trim","length","onEditHandler","onBlur","onLeaveHandler","autoFocus","TodoList","TodosFilter","setFilter","classValue","setClassValue","clickHandler","filterValue","currentTarget","textContent","href","selected","TodoApp","input","allTodos","setAllTodos","filteredTodos","useMemo","useEffect","localStorage","getItem","setItem","JSON","stringify","parse","activeTodos","completedTodos","onSubmit","preventDefault","Date","state","placeholder","onClickHandler","prev","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9289d174.chunk.js","sourcesContent":["/* eslint-disable arrow-body-style */\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport const TodoItem = React.memo(({\n  todos,\n  todo,\n  setTodos,\n  setInput,\n}) => {\n  const [toggle, setToggle] = useState(false);\n\n  const deleteHandler = () => {\n    setTodos(todos.filter(item => todo.id !== item.id));\n  };\n\n  const completeHandler = () => {\n    setTodos(todos.map((item) => {\n      if (item.id === todo.id) {\n        return {\n          ...item,\n          completed: !item.completed,\n        };\n      }\n\n      return item;\n    }));\n  };\n\n  const onEditHandler = (e) => {\n    if (e.key === 'Enter' && e.target.value.trim().length > 0) {\n      setInput(e.target.value);\n      setTodos(todos.map((item) => {\n        if (item.id === todo.id) {\n          return {\n            ...item,\n            title: e.target.value,\n          };\n        }\n\n        return item;\n      }));\n      setToggle(false);\n      setInput('');\n    }\n\n    if (e.key === 'Enter' && e.target.value.trim().length === 0) {\n      setTodos(todos.filter(item => item.id !== todo.id));\n    }\n\n    if (e.key === 'Escape') {\n      setToggle(false);\n    }\n  };\n\n  const onLeaveHandler = (e) => {\n    if (e.target.value.length > 0) {\n      setInput(e.target.value);\n      setTodos(todos.map((item) => {\n        if (item.id === todo.id) {\n          return {\n            ...item,\n            title: e.target.value,\n          };\n        }\n\n        return item;\n      }));\n      setToggle(false);\n      setInput('');\n    }\n\n    if (e.target.value.length === 0) {\n      setToggle(false);\n    }\n  };\n\n  return (\n    <li className={classNames('', {\n      completed: todo.completed,\n      editing: toggle,\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          id=\"toggle-view\"\n          onChange={completeHandler}\n          checked={todo.completed}\n        />\n        <label\n          htmlFor=\"toggle-view\"\n          onDoubleClick={() => setToggle(true)}\n        >\n          {todo.title}\n        </label>\n        <button\n          onClick={deleteHandler}\n          type=\"button\"\n          className=\"destroy\"\n          data-cy=\"deleteTodo\"\n        />\n      </div>\n      {toggle && (\n        <input\n          type=\"text\"\n          className=\"edit\"\n          id=\"editTodo\"\n          onKeyUp={e => onEditHandler(e)}\n          onBlur={e => onLeaveHandler(e)}\n          // eslint-disable-next-line jsx-a11y/no-autofocus\n          autoFocus={toggle}\n        />\n      )}\n    </li>\n  );\n});\n","/* eslint-disable arrow-body-style */\nimport React from 'react';\nimport { TodoItem } from './TodoItem';\n\nexport const TodoList = React.memo(({\n  todos,\n  setTodos,\n  setInput,\n}) => {\n  return (\n    <ul className=\"todo-list\" data-cy=\"todoList\">\n      {todos.map(todo => (\n        <TodoItem\n          todo={todo}\n          key={todo.id}\n          setTodos={setTodos}\n          todos={todos}\n          setInput={setInput}\n        />\n      ))}\n    </ul>\n  );\n});\n","/* eslint-disable arrow-body-style */\nimport React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport const TodosFilter = ({ todos, setFilter }) => {\n  const [classValue, setClassValue] = useState('');\n\n  const clickHandler = (value) => {\n    const filterValue = value.currentTarget.textContent;\n\n    setClassValue(filterValue);\n    setFilter(filterValue);\n  };\n\n  return (\n    <ul className=\"filters\">\n      <li>\n        <a\n          href=\"#/\"\n          className={classNames('', {\n            selected: classValue === 'All',\n          })}\n          onClick={e => clickHandler(e)}\n        >\n          All\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/active\"\n          onClick={e => clickHandler(e)}\n          className={classNames('', {\n            selected: classValue === 'Active',\n          })}\n        >\n          Active\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/completed\"\n          onClick={e => clickHandler(e)}\n          className={classNames('', {\n            selected: classValue === 'Completed',\n          })}\n        >\n          Completed\n        </a>\n      </li>\n    </ul>\n  );\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { TodoList } from './TodoList';\nimport { TodosFilter } from './TodosFilter';\n\nexport const TodoApp = React.memo(() => {\n  const [input, setInput] = useState('');\n  const [todos, setTodos] = useState([]);\n  const [allTodos, setAllTodos] = useState(true);\n  const [filter, setFilter] = useState('All');\n\n  const filteredTodos = useMemo(() => {\n    switch (filter) {\n      case 'Completed':\n        return todos.filter(todo => todo.completed);\n\n      case 'Active':\n        return todos.filter(todo => !todo.completed);\n\n      default:\n        return todos;\n    }\n  }, [filter, todos]);\n\n  const onClickHandler = (e) => {\n    setInput(e.target.value);\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    if (!input) {\n      return;\n    }\n\n    const id = +new Date();\n    const todo = {\n      id,\n      title: input,\n      completed: false,\n    };\n\n    setTodos(state => [...state, todo]);\n    setInput('');\n  };\n\n  const allCompletedHandler = () => {\n    // setAllTodos(!allTodos);\n    setAllTodos(prev => !prev);\n    setTodos(todos.map((todo) => {\n      if (allTodos) {\n        return {\n          ...todo,\n          completed: true,\n        };\n      }\n\n      return {\n        ...todo,\n        completed: false,\n      };\n    }));\n  };\n\n  const filterHandler = () => filteredTodos;\n\n  const removeCompletedTodosHandler = () => {\n    setTodos(todos.filter(todo => !todo.completed));\n  };\n\n  const setToLocalStrg = () => {\n    localStorage.setItem('todos', JSON.stringify(todos));\n  };\n\n  const getLocalTodos = () => {\n    if (localStorage.getItem('todos') === null) {\n      localStorage.setItem('todos', JSON.stringify([]));\n    } else {\n      setTodos(JSON.parse(localStorage.getItem('todos')));\n    }\n  };\n\n  useEffect(() => {\n    getLocalTodos();\n  }, []);\n\n  useEffect(() => {\n    filterHandler();\n    setToLocalStrg();\n  }, [todos, filter]);\n\n  const activeTodos = [...filteredTodos]\n    .filter(todo => !todo.completed).length;\n\n  const completedTodos = [...filteredTodos]\n    .filter(todo => todo.completed).length;\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>React Todo</h1>\n        <form onSubmit={submitHandler}>\n          <input\n            type=\"text\"\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            data-cy=\"createTodo\"\n            value={input}\n            onChange={e => onClickHandler(e)}\n          />\n        </form>\n      </header>\n\n      <section className=\"main\">\n        <input\n          type=\"checkbox\"\n          id=\"toggle-all\"\n          className=\"toggle-all\"\n          data-cy=\"toggleAll\"\n          onChange={allCompletedHandler}\n        />\n        <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n        <TodoList\n          todos={filteredTodos}\n          setTodos={setTodos}\n          setInput={setInput}\n        />\n      </section>\n\n      {todos.length > 0 && (\n        <footer className=\"footer\">\n          <span className=\"todo-count\" data-cy=\"todosCounter\">\n            {activeTodos}\n            {' '}\n            items left\n          </span>\n\n          <TodosFilter\n            todos={filteredTodos}\n            setFilter={setFilter}\n          />\n\n          {completedTodos > 0 && (\n            <button\n              type=\"button\"\n              className=\"clear-completed\"\n              onClick={removeCompletedTodosHandler}\n            >\n              Clear completed\n            </button>\n          )}\n        </footer>\n      )}\n    </section>\n  );\n});\n","import React from 'react';\nimport { TodoApp } from './components/TodoApp';\n\nfunction App() {\n  return (\n    <TodoApp />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}